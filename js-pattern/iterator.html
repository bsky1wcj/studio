<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>迭代器模式</title>
</head>
<body>
	<script type="text/javascript">
		var agg = (function(){
			var index = 0,
				data = [1,2,3,4,5],
				length = data.length;
			return {
				//返回下一个元素
				next : function(){
					var element;
					if(!this.hasNext()){
						return null;
					}
					element = data[index];
					index += 2;
					return element;

				},
				//是否有下一个元素
				hasNext : function() {
					return index < length;
				},
				//重置指针到初始位置
				rewind : function() {
					index = 0;
				},
				//返回当前元素 
				current : function() {
					return data[index];
				}
				
				

			};
		}());


		//ex: 
		// 循环返回：1,3,5
		while(agg.hasNext()) {
			console.log(agg.next());
		}
		//回退到第一个元素
		agg.rewind();
		//读取当前元素
		console.log(agg.current()); //1
	</script>
</body>
</html>